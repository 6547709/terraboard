<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
        <base href="/" />
    </head>

    <body>
        <div ng-app="terraboard" ng-controller="tbCtrl">
            <ul>
                <li>Path: {{path}}</li>
                <li>Terraform version: {{details.terraform_version}}</li>
                <li>Key: {{details.remote.config.key}}</li>
                <li>Modules:</li>
                  <ul ng-repeat="mod in details.modules">
                      <li>{{mod.path[1]}}</li>
                  </ul>
                <li>Details: {{details}}</li>
            </ul>
        </div>

        <script>
var app = angular.module("terraboard", [], function($locationProvider){
    $locationProvider.html5Mode(true);
});
app.controller("tbCtrl", ['$scope', '$http', '$location', function($scope, $http, $location) {
    $http.get('http://'+$location.host()+':8080'+$location.url()).then(function(response){
        $scope.path = $location.url();
        $scope.details = response.data;
    });
}]);
        </script>

    </body>
</html>
